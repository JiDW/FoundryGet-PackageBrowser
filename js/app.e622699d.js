(function(t){function e(e){for(var i,a,o=e[0],l=e[1],c=e[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/FoundryGet-PackageBrowser/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"541b":function(t,e,n){"use strict";var i=n("5b0e"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=(n("caad"),n("c975"),n("b0c0"),n("d3b7"),n("25f0"),n("2532"),n("96cf"),n("1da1")),s=n("dd80"),a=n("e13d"),o={getLanguageByTag:function(t){var e,n;if(-1!==["cn","zh-SHAN","zh-HANS"].indexOf(null===t||void 0===t?void 0:t.lang))return"中文";if("kr"===(null===t||void 0===t?void 0:t.lang))return"한국어";var i="";return i=Object(a["where"])("1",null===t||void 0===t?void 0:t.lang),i?i.local:(i=Object(a["where"])("2",null===t||void 0===t?void 0:t.lang),i?i.local:(i=null===(e=Object(s["getByTag"])(null===t||void 0===t?void 0:t.lang))||void 0===e?void 0:e.local,i||(i=null===(n=Object(s["getByTag"])(null===t||void 0===t?void 0:t.lang))||void 0===n?void 0:n.name,i||(i=null===t||void 0===t?void 0:t.name,i?(console.error(i),i):(i=null===t||void 0===t?void 0:t.lang,i)))))},ciIncludes:function(t,e){return 0===e.length||t.toString().toLowerCase().includes(e.toLowerCase())},sleep:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};Storage.prototype.setObject=function(t,e){try{this.setItem(t,JSON.stringify(e))}catch(n){this.setItem(t,e)}},Storage.prototype.getObject=function(t){var e=this.getItem(t);if(void 0!=e)try{return e&&JSON.parse(e)}catch(n){return console.error("Something is wrong with the ".concat(t," localstorage!")),e}return e};var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("Modules")],1)],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("settings-overlay",{attrs:{overlayState:t.settingsOverlay},on:{click:function(e){t.settingsOverlay=e}}}),n("v-container",[n("v-card",{staticClass:"sidebar-wrapper"},[n("menu",{staticClass:"fixed"},[n("v-navigation-drawer",{attrs:{height:"calc(100vh - 92px)",color:"accent"},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-container",{staticClass:"justify-center",attrs:{"fill-width":""}},[n("v-btn",{attrs:{icon:""},on:{click:t.handleSettingsClick}},[n("v-icon",[t._v("mdi-cog")])],1)],1)]},proxy:!0}])},[n("v-card-text",[n("v-autocomplete",{attrs:{items:t.authors,outlined:"",dense:"",chips:"","small-chips":"",label:"Authors",multiple:""},model:{value:t.filter.authors,callback:function(e){t.$set(t.filter,"authors",e)},expression:"filter.authors"}})],1),n("v-card-text",[n("v-autocomplete",{attrs:{items:t.languages,outlined:"",dense:"",chips:"","small-chips":"",label:"Languages",multiple:""},model:{value:t.filter.languages,callback:function(e){t.$set(t.filter,"languages",e)},expression:"filter.languages"}})],1),n("v-card-text",[n("v-autocomplete",{attrs:{items:t.systemFilter,outlined:"",dense:"",chips:"","small-chips":"",label:"Systems",multiple:""},model:{value:t.filter.systems,callback:function(e){t.$set(t.filter,"systems",e)},expression:"filter.systems"}})],1)],1)],1)]),n("v-filterable-data-iterator",{attrs:{items:t.items,"items-per-page":t.itemsPerPage,page:t.page,"custom-filter":t.customFilter,search:t.filter,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[n("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"primary"}},[n("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"",label:"Search"},model:{value:t.filter.search,callback:function(e){t.$set(t.filter,"search",e)},expression:"filter.search"}}),t.$vuetify.breakpoint.mdAndUp?[n("v-spacer"),n("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:t.keys,label:"Sort by"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),n("v-spacer"),n("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[n("v-btn",{attrs:{large:"",depressed:"",color:"primary",value:!1}},[n("v-icon",[t._v("mdi-arrow-up")])],1),n("v-btn",{attrs:{large:"",depressed:"",color:"accent",value:!0}},[n("v-icon",[t._v("mdi-arrow-down")])],1)],1)]:t._e()],2)]},proxy:!0},{key:"default",fn:function(e){return[n("v-row",t._l(e.items,(function(t){return n("v-col",{key:t.name,attrs:{cols:"12",lg:"3",md:"6",sm:"12"}},[n("Module",{attrs:{module:t,modules:e.items}})],1)})),1)]}}])})],1)],1)},p=[],d=(n("99af"),n("a623"),n("4de4"),n("4160"),n("d81d"),n("13d5"),n("4fad"),n("b64b"),n("ac1f"),n("466d"),n("5319"),n("841c"),n("1276"),n("498a"),n("159b"),n("ddb0"),n("3835")),h=n("53ca"),f=n("2909"),g=n("bc3a"),m=n.n(g),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rel"},[n("v-lazy",{attrs:{transition:"fade-transition"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t.isActive?n("div",[n("module-overlay",{attrs:{overlayState:t.overlay},on:{click:function(e){t.overlay=e}}}),n("v-card",{staticClass:"mx-auto",style:t.cssVars,attrs:{ripple:!1},on:{click:function(){t.getManifest()}}},[n("header",{staticClass:"pkg-header",class:t.typeClass},[n("v-card-title",[t._v(t._s(t.module.title))]),n("v-card-subtitle",[n("span",{staticClass:"pkg-type"},[t._v(t._s(t.module.type))]),t._v(" - "),n("span",{staticClass:"pkg-ver"},[t._v("v"+t._s(t.module.latest))]),n("span",{staticClass:"popularity"},[n("progress-ring",{attrs:{radius:25,progress:t.installs,stroke:3}}),n("label",[t._v("Users")]),n("span",[t._v(t._s(t.popularity)+"%")])],1)])],1),n("main",[n("v-card-text",{staticStyle:{"padding-top":"10px"}},[n("h4",{staticClass:"author"},[n("label",[t._v("Author(s): ")]),n("span",[t._v(t._s(t.module.author))])]),n("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.module.description)}})])],1),n("footer",[n("resize-sensor",{on:{resize:t.footerResizeHandler}}),n("v-card-text",{staticClass:"languages"},t._l(t.languages,(function(e){return n("v-chip",{key:e,staticClass:"languageChip"},[n("v-icon",{attrs:{size:"1.5em",left:""}},[t._v("mdi-translate")]),t._v(" "+t._s(e)+" ")],1)})),1),n("div",[t.hasDependencies?n("v-card-text",{staticClass:"dependencies"},[n("strong",[t._v("Dependencies:")]),t._l(t.manifest.dependencies,(function(e){return n("span",{key:e},[t._v(" "+t._s(e.name)+" ")])}))],2):t._e()],1),n("v-card-text",{staticClass:"compatibility"},[n("strong",[t._v("Compatible Foundry Versions:")]),n("span",[t._v("v"+t._s(t.manifest.minimumCoreVersion)+" - v"+t._s(t.manifest.compatibleCoreVersion))])]),n("div",{staticClass:"cardButtonDiv"},[n("v-btn",{attrs:{text:"",href:t.module.url,target:"_blank"}},[t._v(" Project ")]),n("v-btn",{attrs:{text:"",href:t.foundryPackageUrl,target:"_blank"}},[t._v(" Package ")]),n("v-btn",{attrs:{text:"",href:t.module.manifest,target:"_blank"}},[t._v(" Manifest ")]),n("v-btn",{attrs:{text:""},on:{click:function(e){t.overlay=!t.overlay}}},[t._v(" Extra Info ")])],1)],1)])],1):t._e()])],1)},y=[],b=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{height:2*t.radius,width:2*t.radius}},[n("circle",{style:{strokeDashoffset:t.strokeDashoffset},attrs:{stroke:"white","stroke-dasharray":t.circumference+" "+t.circumference,"stroke-width":t.stroke,fill:"transparent",r:t.normalizedRadius,cx:t.radius,cy:t.radius}})])}),O=[],S={name:"ProgressRing",props:{radius:Number,progress:Number,stroke:Number},data:function(){var t=this.radius-2*this.stroke,e=2*t*Math.PI;return{normalizedRadius:t,circumference:e}},computed:{strokeDashoffset:function(){return this.circumference-this.progress/100*this.circumference}}},j=S,x=(n("cd9c"),n("2877")),k=Object(x["a"])(j,b,O,!1,null,"b589d032",null),C=k.exports,P=n("bada"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-overlay",{attrs:{value:t.overlayState}},[n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeOverlay,expression:"closeOverlay"}]},[n("v-card-title",[t._v("Settings")]),n("v-btn",{attrs:{overlayState:t.overlayState},on:{click:t.closeOverlay}},[t._v(" Close ")])],1)],1)},I=[],_={name:"ModuleOverlay",components:{},props:{overlayState:Boolean},data:function(){return{}},methods:{closeOverlay:function(){this.$emit("click",!this.overlayState)}},mounted:function(){}},A=_,B=n("6544"),w=n.n(B),D=n("8336"),L=n("b0af"),V=n("99d9"),E=n("a797"),T=n("269a"),F=n.n(T),M=n("a293"),U=Object(x["a"])(A,$,I,!1,null,null,null),z=U.exports;w()(U,{VBtn:D["a"],VCard:L["a"],VCardTitle:V["c"],VOverlay:E["a"]}),F()(U,{ClickOutside:M["a"]});var N={name:"Module",components:{ProgressRing:C,ResizeSensor:P["a"],ModuleOverlay:z},props:{modules:Array,module:Object},data:function(){return{isActive:!1,show:!1,loader:null,loading:!1,manifest:{minimumCoreVersion:"?.?.?",compatibleCoreVersion:"?.?.?",dependencies:[]},manifestLoaded:!1,hasDependencies:!1,footerHeight:0,overlay:!1}},watch:{loader:function(){var t=this,e=this.loader;this[e]=!this[e],setTimeout((function(){return t[e]=!1}),3e3),this.loader=null}},computed:{foundryPackageUrl:function(){return"https://foundryvtt.com/packages/".concat(this.module.name,"/")},typeClass:function(){return{module:"typ-module",system:"typ-system",world:"typ-world"}[this.module.type]||"typ-none"},languages:function(){var t=this,e=[];return this.module.languages.forEach((function(n){var i=t.$func.getLanguageByTag(n);e.includes(i)||e.push(i)})),e},hasLanguages:function(){return!(!this.module.languages||0===this.module.languages.length)},installs:function(){return Number(this.module.installs)},popularity:function(){var t=Number(this.module.installs),e=t>1?Math.round(t):"<1";return e},cssVars:function(){return{"--footer-height":this.footerHeight+"px"}}},methods:{getManifest:function(){var t=this;this.manifestLoaded||(this.manifestLoaded=!0,m.a.get("https://forge-vtt.com/api/bazaar/manifest/"+this.module.name).then((function(e){var n,i;t.manifest=e.data,(null===(n=e.data)||void 0===n?void 0:n.dependencies)&&0!==(null===(i=e.data.dependencies)||void 0===i?void 0:i.length)&&(t.hasDependencies=!0)})).catch((function(){m.a.get("https://cors-anywhere.herokuapp.com/"+t.module.manifest).then((function(e){var n,i;t.manifest=e.data,(null===(n=e.data)||void 0===n?void 0:n.dependencies)&&0!==(null===(i=e.data.dependencies)||void 0===i?void 0:i.length)&&(t.hasDependencies=!0)}))})))},footerResizeHandler:function(t){this.footerHeight=t.height}}},R=N,K=(n("aa81"),n("cc20")),H=n("132d"),G=n("b687"),J=Object(x["a"])(R,v,y,!1,null,"a68477c2",null),W=J.exports;w()(J,{VBtn:D["a"],VCard:L["a"],VCardSubtitle:V["a"],VCardText:V["b"],VCardTitle:V["c"],VChip:K["a"],VIcon:H["a"],VLazy:G["a"]});n("45fc"),n("07ac");var q=n("5530"),Z=(n("c740"),n("fb6a"),n("a434"),n("80d2")),Q=i["a"].extend({name:"v-filterable-data",inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},sortBy:{type:[String,Array],default:function(){return[]}},sortDesc:{type:[Boolean,Array],default:function(){return[]}},customSort:{type:Function,default:Z["A"]},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:function(){return[]}},groupDesc:{type:[Boolean,Array],default:function(){return[]}},customGroup:{type:Function,default:Z["t"]},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:Object,customFilter:{type:Function,default:X},serverItemsLength:{type:Number,default:-1}},data:function(){var t={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(Z["C"])(this.sortBy),sortDesc:Object(Z["C"])(this.sortDesc),groupBy:Object(Z["C"])(this.groupBy),groupDesc:Object(Z["C"])(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};this.options&&(t=Object.assign(t,this.options));var e,n,i=t,r=i.sortBy,s=i.sortDesc,a=i.groupBy,o=i.groupDesc,l=r.length-s.length,c=a.length-o.length;l>0&&(e=t.sortDesc).push.apply(e,Object(f["a"])(Object(Z["k"])(l,!1)));c>0&&(n=t.groupDesc).push.apply(n,Object(f["a"])(Object(Z["k"])(c,!1)));return{internalOptions:t}},computed:{itemsLength:function(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount:function(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart:function(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop:function(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped:function(){return!!this.internalOptions.groupBy.length},pagination:function(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems:function(){var t=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(t=this.customFilter(t,this.search)),t},computedItems:function(){var t=this.filteredItems.slice();return!this.disableSort&&this.serverItemsLength<=0&&(t=this.sortItems(t)),!this.disablePagination&&this.serverItemsLength<=0&&(t=this.paginateItems(t)),t},groupedItems:function(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps:function(){var t={sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length};return t},computedOptions:function(){return Object(q["a"])({},this.options)}},watch:{computedOptions:{handler:function(t,e){Object(Z["i"])(t,e)||this.updateOptions(t)},deep:!0,immediate:!0},internalOptions:{handler:function(t,e){Object(Z["i"])(t,e)||this.$emit("update:options",t)},deep:!0,immediate:!0},page:function(t){this.updateOptions({page:t})},"internalOptions.page":function(t){this.$emit("update:page",t)},itemsPerPage:function(t){this.updateOptions({itemsPerPage:t})},"internalOptions.itemsPerPage":function(t){this.$emit("update:items-per-page",t)},sortBy:function(t){this.updateOptions({sortBy:Object(Z["C"])(t)})},"internalOptions.sortBy":function(t,e){!Object(Z["i"])(t,e)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?t:t[0])},sortDesc:function(t){this.updateOptions({sortDesc:Object(Z["C"])(t)})},"internalOptions.sortDesc":function(t,e){!Object(Z["i"])(t,e)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?t:t[0])},groupBy:function(t){this.updateOptions({groupBy:Object(Z["C"])(t)})},"internalOptions.groupBy":function(t,e){!Object(Z["i"])(t,e)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?t:t[0])},groupDesc:function(t){this.updateOptions({groupDesc:Object(Z["C"])(t)})},"internalOptions.groupDesc":function(t,e){!Object(Z["i"])(t,e)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?t:t[0])},multiSort:function(t){this.updateOptions({multiSort:t})},"internalOptions.multiSort":function(t){this.$emit("update:multi-sort",t)},mustSort:function(t){this.updateOptions({mustSort:t})},"internalOptions.mustSort":function(t){this.$emit("update:must-sort",t)},pageCount:{handler:function(t){this.$emit("page-count",t)},immediate:!0},computedItems:{handler:function(t){this.$emit("current-items",t)},immediate:!0},pagination:{handler:function(t,e){Object(Z["i"])(t,e)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle:function(t,e,n,i,r,s){var a=e.slice(),o=n.slice(),l=a.findIndex((function(e){return e===t}));return l<0?(s||(a=[],o=[]),a.push(t),o.push(!1)):l>=0&&!o[l]?o[l]=!0:r?o[l]=!1:(a.splice(l,1),o.splice(l,1)),Object(Z["i"])(a,e)&&Object(Z["i"])(o,n)||(i=1),{by:a,desc:o,page:i}},group:function(t){var e=this.toggle(t,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1),n=e.by,i=e.desc,r=e.page;this.updateOptions({groupBy:n,groupDesc:i,page:r})},sort:function(t){if(Array.isArray(t))return this.sortArray(t);var e=this.toggle(t,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort),n=e.by,i=e.desc,r=e.page;this.updateOptions({sortBy:n,sortDesc:i,page:r})},sortArray:function(t){var e=this,n=t.map((function(t){var n=e.internalOptions.sortBy.findIndex((function(e){return e===t}));return n>-1&&e.internalOptions.sortDesc[n]}));this.updateOptions({sortBy:t,sortDesc:n})},updateOptions:function(t){this.internalOptions=Object(q["a"])(Object(q["a"])(Object(q["a"])({},this.internalOptions),t),{},{page:this.serverItemsLength<0?Math.max(1,Math.min(t.page||this.internalOptions.page,this.pageCount)):t.page||this.internalOptions.page})},sortItems:function(t){var e=this.internalOptions.sortBy,n=this.internalOptions.sortDesc;return this.internalOptions.groupBy.length&&(e=[].concat(Object(f["a"])(this.internalOptions.groupBy),Object(f["a"])(e)),n=[].concat(Object(f["a"])(this.internalOptions.groupDesc),Object(f["a"])(n))),this.customSort(t,e,n,this.locale)},groupItems:function(t){return this.customGroup(t,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems:function(t){return-1===this.serverItemsLength&&t.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,this.internalOptions.page-1)),t.slice(this.pageStart,this.pageStop)}},render:function(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}});function X(t,e){if(e){var n=e.search.toString().toLowerCase();return""===n.trim()?t:t.filter((function(t){return Object.keys(t).some((function(e){var i=Object(Z["n"])(t,e);return null!=i&&null!=n&&"boolean"!==typeof i&&-1!==i.toString().toLocaleLowerCase().indexOf(n.toLocaleLowerCase())}))}))}}var Y,tt,et,nt,it=Q,rt=Object(x["a"])(it,Y,tt,!1,null,null,null),st=rt.exports,at=n("f41f"),ot=n("e4cd"),lt=n("7560"),ct=n("58df"),ut=Object(ct["a"])(ot["a"],lt["a"]).extend({name:"v-filterable-data-iterator",props:Object(q["a"])(Object(q["a"])({},st.options.props),{},{itemKey:{type:String,default:"id"},value:{type:Array,default:function(){return[]}},singleSelect:Boolean,expanded:{type:Array,default:function(){return[]}},mobileBreakpoint:Object(q["a"])(Object(q["a"])({},ot["a"].options.props.mobileBreakpoint),{},{default:600}),singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}}),data:function(){return{selection:{},expansion:{},internalCurrentItems:[]}},computed:{everyItem:function(){var t=this;return!!this.selectableItems.length&&this.selectableItems.every((function(e){return t.isSelected(e)}))},someItems:function(){var t=this;return this.selectableItems.some((function(e){return t.isSelected(e)}))},sanitizedFooterProps:function(){return Object(Z["d"])(this.footerProps)},selectableItems:function(){var t=this;return this.internalCurrentItems.filter((function(e){return t.isSelectable(e)}))}},watch:{value:{handler:function(t){var e=this;this.selection=t.reduce((function(t,n){return t[Object(Z["n"])(n,e.itemKey)]=n,t}),{})},immediate:!0},selection:function(t,e){Object(Z["i"])(Object.keys(t),Object.keys(e))||this.$emit("input",Object.values(t))},expanded:{handler:function(t){var e=this;this.expansion=t.reduce((function(t,n){return t[Object(Z["n"])(n,e.itemKey)]=!0,t}),{})},immediate:!0},expansion:function(t,e){var n=this;if(!Object(Z["i"])(t,e)){var i=Object.keys(t).filter((function(e){return t[e]})),r=i.length?this.items.filter((function(t){return i.includes(String(Object(Z["n"])(t,n.itemKey)))})):[];this.$emit("update:expanded",r)}}},methods:{toggleSelectAll:function(t){for(var e=Object.assign({},this.selection),n=0;n<this.selectableItems.length;n++){var i=this.selectableItems[n];if(this.isSelectable(i)){var r=Object(Z["n"])(i,this.itemKey);t?e[r]=i:delete e[r]}}this.selection=e,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:t})},isSelectable:function(t){return!1!==Object(Z["n"])(t,this.selectableKey)},isSelected:function(t){return!!this.selection[Object(Z["n"])(t,this.itemKey)]||!1},select:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isSelectable(t)){var i=this.singleSelect?{}:Object.assign({},this.selection),r=Object(Z["n"])(t,this.itemKey);if(e?i[r]=t:delete i[r],this.singleSelect&&n){var s=Object.keys(this.selection),a=s.length&&Object(Z["n"])(this.selection[s[0]],this.itemKey);a&&a!==r&&this.$emit("item-selected",{item:this.selection[a],value:!1})}this.selection=i,n&&this.$emit("item-selected",{item:t,value:e})}},isExpanded:function(t){return this.expansion[Object(Z["n"])(t,this.itemKey)]||!1},expand:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.singleExpand?{}:Object.assign({},this.expansion),i=Object(Z["n"])(t,this.itemKey);e?n[i]=!0:delete n[i],this.expansion=n,this.$emit("item-expanded",{item:t,value:e})},createItemProps:function(t){var e=this;return{item:t,select:function(n){return e.select(t,n)},isSelected:this.isSelected(t),expand:function(n){return e.expand(t,n)},isExpanded:this.isExpanded(t),isMobile:this.isMobile}},genEmptyWrapper:function(t){return this.$createElement("div",t)},genEmpty:function(t,e){if(0===t&&this.loading){var n=this.$slots["loading"]||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(n)}if(0===t){var i=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(i)}if(0===e){var r=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(r)}return null},genItems:function(t){var e=this,n=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return n?[n]:this.$scopedSlots.default?this.$scopedSlots.default(Object(q["a"])(Object(q["a"])({},t),{},{isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,expand:this.expand})):this.$scopedSlots.item?t.items.map((function(t){return e.$scopedSlots.item(e.createItemProps(t))})):[]},genFooter:function(t){if(this.hideDefaultFooter)return null;var e={props:Object(q["a"])(Object(q["a"])({},this.sanitizedFooterProps),{},{options:t.options,pagination:t.pagination}),on:{"update:options":function(e){return t.updateOptions(e)}}},n=Object(Z["o"])("footer.",this.$scopedSlots);return this.$createElement(at["a"],Object(q["a"])({scopedSlots:n},e))},genDefaultScopedSlot:function(t){var e=Object(q["a"])(Object(q["a"])({},t),{},{someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll});return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(Z["q"])(this,"header",e,!0),this.genItems(t),this.genFooter(t),Object(Z["q"])(this,"footer",e,!0)])}},render:function(){var t=this;return this.$createElement(st,{props:this.$props,on:{"update:options":function(e,n){return!Object(Z["i"])(e,n)&&t.$emit("update:options",e)},"update:page":function(e){return t.$emit("update:page",e)},"update:items-per-page":function(e){return t.$emit("update:items-per-page",e)},"update:sort-by":function(e){return t.$emit("update:sort-by",e)},"update:sort-desc":function(e){return t.$emit("update:sort-desc",e)},"update:group-by":function(e){return t.$emit("update:group-by",e)},"update:group-desc":function(e){return t.$emit("update:group-desc",e)},pagination:function(e,n){return!Object(Z["i"])(e,n)&&t.$emit("pagination",e)},"current-items":function(e){t.internalCurrentItems=e,t.$emit("current-items",e)},"page-count":function(e){return t.$emit("page-count",e)}},scopedSlots:{default:this.genDefaultScopedSlot}})}}),pt=ut,dt=Object(x["a"])(pt,et,nt,!1,null,null,null),ht=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-overlay",{attrs:{value:t.overlayState}},[n("v-lazy",{attrs:{transition:"fade-transition"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t.isActive?n("v-card",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeOverlay,expression:"closeOverlay"}]},[n("header",[n("v-card-title",[t._v("Settings")])],1),n("main",{staticClass:"settingsMain"},[t._l(t.apiEntries,(function(e){return n("v-chip",{key:e,attrs:{label:"",close:""},on:{"click:close":function(n){return t.removeFromStorage(e)}}},[n("v-checkbox",{key:e,attrs:{label:e},on:{change:function(n){return t.updateStorage(e,n)}},model:{value:t.apiObject[e],callback:function(n){t.$set(t.apiObject,e,n)},expression:"apiObject[apiEntry]"}})],1)})),n("v-chip",{staticClass:"addApiChip",attrs:{label:""}},[n("v-btn",{attrs:{icon:"",small:""},on:{click:t.addApi}},[n("v-icon",[t._v("mdi-plus")])],1),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-text-field",{attrs:{placeholder:"API Url",solo:"",dense:"","single-line":"","background-color":"#00000000",flat:"","hide-details":""},model:{value:t.addedUrl,callback:function(e){t.addedUrl=e},expression:"addedUrl"}})]}}],null,!1,1053171139),model:{value:t.faultyUrl,callback:function(e){t.faultyUrl=e},expression:"faultyUrl"}},[n("span",[t._v("Please enter a valid url")])])],1)],2),n("footer",[n("v-btn",{attrs:{overlayState:t.overlayState},on:{click:t.closeOverlay}},[t._v(" Close ")])],1)]):t._e()],1)],1)},gt=[],mt={name:"SettingsOverlay",components:{},props:{overlayState:Boolean},data:function(){return{isActive:!1,trigger:0,addedUrl:"",faultyUrl:!1}},methods:{closeOverlay:function(){this.$emit("click",!this.overlayState)},updateStorage:function(t,e){var n=localStorage.getObject("apis");n[t]=e,localStorage.setObject("apis",n),this.trigger++},removeFromStorage:function(t){var e=localStorage.getObject("apis");delete e[t],localStorage.setObject("apis",e),this.trigger++},addApi:function(){var t=this;/^(ftp|http|https):\/\/[^ "]+$/.test(this.addedUrl)?(this.updateStorage(this.addedUrl,!0),this.faultyUrl=!1,this.addedUrl=""):(this.faultyUrl=!0,setTimeout((function(){return t.faultyUrl=!1}),2e3))}},computed:{apiObject:function(){return this.trigger,localStorage.getObject("apis")||{}},apiEntries:function(){return this.trigger,Object.keys(this.apiObject)}},mounted:function(){}},vt=mt,yt=(n("b5ec"),n("ac7c")),bt=n("8654"),Ot=n("3a2f"),St=Object(x["a"])(vt,ft,gt,!1,null,null,null),jt=St.exports;w()(St,{VBtn:D["a"],VCard:L["a"],VCardTitle:V["c"],VCheckbox:yt["a"],VChip:K["a"],VIcon:H["a"],VLazy:G["a"],VOverlay:E["a"],VTextField:bt["a"],VTooltip:Ot["a"]}),F()(St,{ClickOutside:M["a"]});var xt={name:"Modules",components:{Module:W,VFilterableDataIterator:ht,SettingsOverlay:jt},data:function(){return{loading:!0,modules:null,languages:[],authors:[],systemFilter:[],systemCache:{any:"System Agnostic"},filter:{search:"",languages:[],systems:[],authors:[]},sortDesc:!1,sortBy:"name",page:1,itemsPerPage:5,itemsPerPageArray:[6,9,12],keys:["Name","Type","Installs"],items:[],settingsOverlay:!1}},methods:{mountAPI:function(){var t=this;this.loading=!0;var e=localStorage.getObject("apis"),n=[],i=[],s={};Object.keys(e).forEach(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e[a]&&(s[a]=void 0,m.a.get(a).then((function(e){console.log(e.data.packages),e.data.packages.forEach((function(t){"system"===t.type?i.push(t):"module"===t.type&&n.push(t)})),t.items=[].concat(Object(f["a"])(t.items),Object(f["a"])(e.data.packages)).reduce((function(t,e){return t.map((function(t){return null===t||void 0===t?void 0:t.name})).includes((null===e||void 0===e?void 0:e.name)||"")?t:[].concat(Object(f["a"])(t),[e])}),[]),delete s[a]})));case 1:case"end":return r.stop()}}),r)})));return function(t){return a.apply(this,arguments)}}()),Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=!0,setTimeout((function(){return r=!1}),15e3);case 2:if(!r){e.next=8;break}return e.next=5,t.$func.sleep(100);case 5:0===Object.keys(s).length&&(r=!1),e.next=2;break;case 8:t.modules=n,t.systems=i,t.languages=t.getLanguages(),t.systemFilter=t.getSystems(),t.authors=t.getAuthors(),t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()},customFilter:function(t,e){var n=this,i="";try{i=e.search.toString().toLowerCase()}catch(o){i=""}var r=e.languages,s=[];e.systems.forEach((function(t){return s.push(n.getSystem(t))}));var a=e.authors;return"string"===typeof e.search&&0!==e.search.trim().length||"object"===Object(h["a"])(e.languages)&&0!==e.languages.length||"object"===Object(h["a"])(e.systems)&&0!==e.systems.length||"object"===Object(h["a"])(e.authors)&&0!==e.authors.length?t.filter((function(t){var e={filterSearch:!1,filterLanguage:!1,filterSystem:!1,filterAuthor:!1};return Object.keys(t).forEach((function(o){var l=Object(Z["n"])(t,o);null!=l&&(!e.filterSearch&&n.filterSearch(l,i)&&(e.filterSearch=!0),!e.filterLanguage&&n.filterLanguage(l,r,o)&&(e.filterLanguage=!0),!e.filterAuthor&&n.filterAuthor(l,a,o)&&(e.filterAuthor=!0)),void 0!==l&&!e.filterSystem&&n.filterSystem(l,s,o)&&(e.filterSystem=!0)})),Object.keys(e).every((function(t){return e[t]}))})):t},filterSearch:function(t,e){return!e||""===e.trim()||-1!==t.toString().toLocaleLowerCase().indexOf(e.toLocaleLowerCase())},filterLanguage:function(t,e,n){var i=this;if(!e||0===(null===e||void 0===e?void 0:e.length))return!0;if(0===(null===t||void 0===t?void 0:t.length)||"languages"!==n)return!1;var r=!1;return t.forEach((function(t){var n=i.$func.getLanguageByTag(t);e.includes(n)&&(r=!0)})),r},filterSystem:function(t,e,n){if(!e||0===(null===e||void 0===e?void 0:e.length))return!0;if("systems"!==n)return!1;if(null===t)return e.includes("any");var i=!1;return t.forEach((function(t){e.includes(t)&&(i=!0)})),i},filterAuthor:function(t,e,n){var i=this;if(!e||0===(null===e||void 0===e?void 0:e.length))return!0;if(0===(null===t||void 0===t?void 0:t.length)||"author"!==n)return!1;var r=!1;return e.forEach((function(e){i.$func.ciIncludes(t,e)&&(r=!0)})),r},getLanguages:function(){var t=this,e=[];return this.modules.forEach((function(n){n.languages&&0!==n.languages.length&&n.languages.forEach((function(n){var i=t.$func.getLanguageByTag(n);e.includes(i)||e.push(i)}))})),e.sort(Intl.Collator().compare)},getSystems:function(){var t=this,e=[];return this.modules.forEach((function(n){n.systems&&0!==n.systems.length&&n.systems.forEach((function(n){if(!Object.keys(t.systemCache).includes(n)){var i,r,s,a=t.systems.filter((function(t){return t.name===n}));if(!e.includes((null===(i=a[0])||void 0===i?void 0:i.title)||n))e.push((null===(r=a[0])||void 0===r?void 0:r.title)||n),t.systemCache[n]=(null===(s=a[0])||void 0===s?void 0:s.title)||n}}))})),e=e.sort(Intl.Collator().compare),e.unshift("System Agnostic"),e},getSystem:function(t){var e="";return Object.entries(this.systemCache).forEach((function(n){var i=Object(d["a"])(n,2),r=i[0],s=i[1];s===t&&(e=r)})),e},getAuthors:function(){var t=this,e=[];return this.modules.forEach((function(n){var i;if(n.author&&0!==(null===(i=n.author)||void 0===i?void 0:i.length)){var r=/(,|\[|\]|\(|\)|<|>|-|–|[^/:]\/|[^ps]:| and | maintained by )/gi;n.author.split(r).forEach((function(n){var i,s,a;"object"!==Object(h["a"])(n)&&null==n.match(r)&&null==n.match(/(object Object|translation|discord|https?:\/\/)/gi)&&null!=n.match(/[a-zA-Z]/)&&(n=(null===(i=n.split(" by "))||void 0===i?void 0:i[1])||n,n=(null===(s=n.split(" from "))||void 0===s?void 0:s[1])||n,n=(null===(a=n.split("#"))||void 0===a?void 0:a[0])||n,n=n.trim(),t.$func.ciIncludes(e,n.replace("@",""))||n.includes("@")&&n.includes(".")||e.push(n.replace("@","")))}))}})),e.sort(Intl.Collator().compare)},handleSettingsClick:function(){this.settingsOverlay=!this.settingsOverlay}},mounted:function(){console.log("Mounted"),localStorage.getObject("apis")&&0!==Object.keys(localStorage.getObject("apis")).length||localStorage.setObject("apis",{"https://forge-vtt.com/api/bazaar":!0}),this.mountAPI()},computed:{filteredKeys:function(){return this.keys.filter((function(t){return"Name"!==t}))}}},kt=xt,Ct=(n("541b"),n("c6a6")),Pt=n("a609"),$t=n("62ad"),It=n("a523"),_t=n("f774"),At=n("0fd9"),Bt=n("b974"),wt=n("2fa4"),Dt=n("71d9"),Lt=Object(x["a"])(kt,u,p,!1,null,"692e3f04",null),Vt=Lt.exports;w()(Lt,{VAutocomplete:Ct["a"],VBtn:D["a"],VBtnToggle:Pt["a"],VCard:L["a"],VCardText:V["b"],VCol:$t["a"],VContainer:It["a"],VIcon:H["a"],VNavigationDrawer:_t["a"],VRow:At["a"],VSelect:Bt["a"],VSpacer:wt["a"],VTextField:bt["a"],VToolbar:Dt["a"]});var Et={name:"App",components:{Modules:Vt},data:function(){return{}}},Tt=Et,Ft=(n("5c0b"),n("7496")),Mt=n("f6c4"),Ut=Object(x["a"])(Tt,l,c,!1,null,null,null),zt=Ut.exports;w()(Ut,{VApp:Ft["a"],VMain:Mt["a"]});var Nt=n("f309");i["a"].use(Nt["a"]);var Rt=new Nt["a"]({theme:{dark:!0,options:{customProperties:!0},themes:{dark:{primary:"#555555",secondary:"#424242",accent:"#666666",error:"#FF5252",info:"#666666",success:"#4CAF50",warning:"#FFC107"}}}});i["a"].config.productionTip=!1,i["a"].prototype.$func=o,new i["a"]({render:function(t){return t(zt)},data:function(){return{modules:null}},vuetify:Rt,mounted:function(){}}).$mount("#app")},"5a16":function(t,e,n){},"5b0e":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),r=n.n(i);r.a},"6ebf":function(t,e,n){},"9c0c":function(t,e,n){},aa81:function(t,e,n){"use strict";var i=n("6ebf"),r=n.n(i);r.a},b5ec:function(t,e,n){"use strict";var i=n("5a16"),r=n.n(i);r.a},cd9c:function(t,e,n){"use strict";var i=n("ed81"),r=n.n(i);r.a},ed81:function(t,e,n){}});
//# sourceMappingURL=app.e622699d.js.map